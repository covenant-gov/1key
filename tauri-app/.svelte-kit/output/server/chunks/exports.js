import{n as p,k as m}from"./equality.js";import"clsx";const j=/^[a-z][a-z\d+\-.]+:/i,_=new URL("sveltekit-internal://");function E(e,r){if(r[0]==="/"&&r[1]==="/")return r;let n=new URL(e,_);return n=new URL(r,n),n.protocol===_.protocol?n.pathname+n.search+n.hash:n.href}function O(e,r){return e==="/"||r==="ignore"?e:r==="never"?e.endsWith("/")?e.slice(0,-1):e:r==="always"&&!e.endsWith("/")?e+"/":e}function R(e){return e.split("%25").map(decodeURI).join("%25")}function U(e){for(const r in e)e[r]=decodeURIComponent(e[r]);return e}function C(e,r,n,o=!1){const s=new URL(e);Object.defineProperty(s,"searchParams",{value:new Proxy(s.searchParams,{get(a,t){if(t==="get"||t==="getAll"||t==="has")return i=>(n(i),a[t](i));r();const c=Reflect.get(a,t);return typeof c=="function"?c.bind(a):c}}),enumerable:!0,configurable:!0});const u=["href","pathname","search","toString","toJSON"];o&&u.push("hash");for(const a of u)Object.defineProperty(s,a,{get(){return r(),e[a]},enumerable:!0,configurable:!0});return s[Symbol.for("nodejs.util.inspect.custom")]=(a,t,c)=>c(e,t),s.searchParams[Symbol.for("nodejs.util.inspect.custom")]=(a,t,c)=>c(e.searchParams,t),o||S(s),s}function S(e){b(e),Object.defineProperty(e,"hash",{get(){throw new Error("Cannot access event.url.hash. Consider using `page.url.hash` inside a component instead")}})}function L(e){b(e);for(const r of["search","searchParams"])Object.defineProperty(e,r,{get(){throw new Error(`Cannot access url.${r} on a page with prerendering enabled`)}})}function b(e){e[Symbol.for("nodejs.util.inspect.custom")]=(r,n,o)=>o(new URL(e),n)}const f=[];function T(e,r){return{subscribe:$(e,r).subscribe}}function $(e,r=p){let n=null;const o=new Set;function s(t){if(m(e,t)&&(e=t,n)){const c=!f.length;for(const i of o)i[1](),f.push(i,e);if(c){for(let i=0;i<f.length;i+=2)f[i][0](f[i+1]);f.length=0}}}function u(t){s(t(e))}function a(t,c=p){const i=[t,c];return o.add(i),o.size===1&&(n=r(s,u)||p),t(e),()=>{o.delete(i),o.size===0&&n&&(n(),n=null)}}return{set:s,update:u,subscribe:a}}function l(e){function r(n,o){if(n)for(const s in n){if(s[0]==="_"||e.has(s))continue;const u=[...e.values()],a=P(s,o?.slice(o.lastIndexOf(".")))??`valid exports are ${u.join(", ")}, or anything with a '_' prefix`;throw new Error(`Invalid export '${s}'${o?` in ${o}`:""} (${a})`)}}return r}function P(e,r=".js"){const n=[];if(d.has(e)&&n.push(`+layout${r}`),g.has(e)&&n.push(`+page${r}`),h.has(e)&&n.push(`+layout.server${r}`),v.has(e)&&n.push(`+page.server${r}`),w.has(e)&&n.push(`+server${r}`),n.length>0)return`'${e}' is a valid export in ${n.slice(0,-1).join(", ")}${n.length>1?" or ":""}${n.at(-1)}`}const d=new Set(["load","prerender","csr","ssr","trailingSlash","config"]),g=new Set([...d,"entries"]),h=new Set([...d]),v=new Set([...h,"actions","entries"]),w=new Set(["GET","POST","PATCH","PUT","DELETE","OPTIONS","HEAD","fallback","prerender","trailingSlash","config","entries"]),z=l(d),I=l(g),q=l(h),A=l(v),H=l(w);export{j as S,U as a,z as b,A as c,L as d,I as e,E as f,R as g,H as h,C as m,O as n,T as r,q as v,$ as w};
